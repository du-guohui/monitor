global.webpackJsonp([14],{"f+4e":function(t,i,e){"use strict";var o=e("mvHQ"),s=e.n(o),n=e("2FZb"),a=e("olkN");i.a={computed:{Loading:function(){return a.a.state.Loading},DeviceList:function(){return a.a.state.Data.Device},NewList:function(){var t=JSON.parse(s()(this.DeviceList));return t.reverse()}},data:function(){return{visible:!1,form:{name:"",desc:""},load:!0}},methods:{onClose:function(){this.visible=!1},onChange:function(t){this.form[t.mp.currentTarget.id]=t.mp.detail.value},PostData:function(){var t=this;""==this.form.name?this.Toast("forbidden","分组名称不能为空"):this.ajax("device/addDeviceGroup",this.form,"POST").then(function(i){"success"==i?(t.visible=!1,a.a.commit("DeviceList",t),t.form={name:"",desc:""},setTimeout(function(){t.Toast("success","添加成功")},850)):t.Toast("forbidden",i.msg)})}},onShow:function(){this.form={name:"",desc:""}},watch:{Loading:function(){var t=this,i=this;this.$route&&(this.$wuxLoading=Object(n.c)(),this.Loading?this.$wuxLoading.show({text:"数据加载中"}):setTimeout(function(){t.$wuxLoading.hide()},800)),this.Loading?i.load=!0:setTimeout(function(){i.load=!1},800)}}}},gLKB:function(t,i,e){"use strict";var o={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"container"},[t.load?t._e():e("div",{staticClass:"groups"},[e("div",{staticClass:"add-button",attrs:{eventid:"0"},on:{click:function(i){t.visible=!0}}},[e("wux-icon",{attrs:{type:"ios-add",size:"23",color:"#ffffff",mpcomid:"0"}})],1),t._v(" "),e("wux-cell-group",{attrs:{title:"我的分组",mpcomid:"2"}},t._l(t.NewList,function(i,o){return e("wux-cell",{key:i.group.name,class:{is_default:i.group.is_default&&t.DeviceList.length>"1"},attrs:{title:i.group.name,isLink:"",label:i.device_list.length+"个设备",url:"/pages/GroupList/index?id="+i.group.id+"&is_default="+i.group.is_default,mpcomid:"1-"+o}})}))],1),t._v(" "),e("wux-popup",{staticClass:"group-box",attrs:{position:"bottom",visible:t.visible,eventid:"3",mpcomid:"8"},on:{close:t.onClose}},[e("wux-cell-group",{attrs:{title:"新建分组",mpcomid:"7"}},[e("wux-cell",{attrs:{"hover-class":"none",mpcomid:"4"}},[e("wux-input",{attrs:{label:"分组名称",placeholder:"请输入分组名称",id:"name",value:t.form.name,controlled:"",type:"text",eventid:"1",mpcomid:"3"},on:{change:t.onChange}})],1),t._v(" "),e("wux-cell",{attrs:{"hover-class":"none",mpcomid:"6"}},[e("wux-button",{attrs:{block:"",type:"positive",eventid:"2",mpcomid:"5"},on:{click:t.PostData}},[t._v("保存")])],1)],1)],1),t._v(" "),e("wux-toast",{attrs:{id:"wux-toast",mpcomid:"9"}}),t._v(" "),e("wux-loading",{attrs:{id:"wux-loading",mpcomid:"10"}})],1)},staticRenderFns:[]};i.a=o},"nXS+":function(t,i){},rHz7:function(t,i,e){"use strict";var o=e("f+4e"),s=e("gLKB");var n=function(t){e("nXS+")},a=e("ybqe")(o.a,s.a,n,"data-v-59f55866",null);i.a=a.exports}},["vk7Y"]);